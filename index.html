<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GST Invoice Generator</title>
<style>
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin: 0;
  background-color: #f9faff;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  align-items: center;
}
header {
  background: linear-gradient(90deg, #a0d8f1, #cce7f9);
  color: #004e92;
  padding: 18px;
  text-align: center;
  font-size: 1.5em;
  font-weight: bold;
  width: 100%;
}
main {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  padding: 20px;
  gap: 12px;
  width: 100%;
  max-width: 1400px;
  padding-bottom: 100px; /* âœ… added space so footer doesn't overlap */
}
.column {
  flex: 1 1 300px;
  background: #ffffff;
  padding: 15px;
  border-radius: 10px;
  box-shadow: 0 3px 8px rgba(0,0,0,0.1);
}
label {
  display: block;
  margin-top: 10px;
  font-weight: 600;
  color: #004e92;
  font-size: 0.9em;
}
input[type="text"], input[type="number"], select, input[type="date"] {
  width: 100%;
  padding: 5px 10px;
  margin-top: 3px;
  border-radius: 4px;
  border: 1px solid #99ccee;
  font-size: 0.9em;
  background: #f0f8ff;
  box-sizing: border-box;
}
input:focus, select:focus {
  border-color: #66b2ff;
  box-shadow: 0 0 4px rgba(102,178,255,0.3);
  outline: none;
}
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 15px;
  font-size: 0.88em;
}
th, td {
  border: 1px solid #99ccee;
  padding: 4px 6px;
  text-align: left;
}
th {
  background: #cce7f9;
  color: #004e92;
}
td input, td select { width: 100%; padding: 3px; box-sizing: border-box; }
td.numeric { text-align:right; }
button {
  padding: 6px 10px;
  margin-top: 8px;
  font-size: 0.85em;
  border-radius: 5px;
  cursor: pointer;
  border: none;
}
#addRowBtn { background-color: #99d1ff; color: #004e92; }
#addRowBtn:hover { background-color: #66b2ff; color: white; }
#recalculateBtn { background-color: #ffb84d; color: #004e92; }
#recalculateBtn:hover { background-color: #e69500; color: white; }
#generatePdfBtn { background-color: #4dc080; color: white; }
#generatePdfBtn:hover { background-color: #339966; }
footer {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background: linear-gradient(90deg, #0a74da, #005ba0);
  color: white;
  text-align: center;
  padding: 10px;
  font-size: 0.9em;
  z-index: 1000;
}
@media(max-width: 1200px){
  main { flex-wrap: wrap; }
  .column { flex: 1 1 100%; }
}
.summary {
  display:flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 10px;
}
.summary div{
  flex:1 1 200px;
}
</style>
</head>
<body>

<header>GST Invoice Generator</header>

<main>
<!-- Seller Details -->
<div class="column">
  <label for="sellerName">Seller Name</label>
  <input type="text" id="sellerName">

  <label for="sellerGST">Seller GSTIN</label>
  <input type="text" id="sellerGST">

  <label for="sellerAddress">Address</label>
  <input type="text" id="sellerAddress">

  <label for="sellerState">State</label>
  <select id="sellerState"></select>

  <label for="sellerMobile">Mobile No.</label>
  <input type="text" id="sellerMobile">
</div>

<!-- Buyer Details -->
<div class="column">
  <label for="buyerName">Buyer Name</label>
  <input type="text" id="buyerName">
  
  <label for="buyerGST">Buyer GSTIN</label>
  <input type="text" id="buyerGST">
  
  <label for="buyerAddress">Address</label>
  <input type="text" id="buyerAddress">

  <label for="buyerState">State</label>
  <select id="buyerState"></select>

  <label for="buyerMobile">Mobile No.</label>
  <input type="text" id="buyerMobile">
</div>

<!-- Invoice Details -->
<div class="column">
  <label for="invoiceNo">Invoice No.</label>
  <input type="text" id="invoiceNo">

  <label for="invoiceDate">Invoice Date</label>
  <input type="date" id="invoiceDate">

  <label for="paymentType">Payment Type</label>
  <select id="paymentType">
    <option value="Cash">Cash</option>
    <option value="UPI">UPI</option>
    <option value="Card">Card</option>
    <option value="Netbanking">Netbanking</option>
  </select>
</div>

<!-- Calculation Table -->
<div class="column" style="flex-basis:100%;">
  <table id="itemsTable">
    <thead>
      <tr>
        <th>Item Name</th>
        <th>GST Rate</th>
        <th>Qty</th>
        <th>Price (Incl GST)</th>
        <th>Basic</th>
        <th>SGST</th>
        <th>CGST</th>
        <th>IGST</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><input type="text" class="itemName"></td>
        <td>
          <select class="gstRate">
            <option value="0">Nil</option>
            <option value="5">5%</option>
            <option value="12">12%</option>
            <option value="18">18%</option>
            <option value="28">28%</option>
          </select>
        </td>
        <td><input type="number" class="quantity" value="1" min="1"></td>
        <td><input type="number" class="price" value="0" min="0"></td>
        <td class="basic numeric">0</td>
        <td class="sgst numeric">0</td>
        <td class="cgst numeric">0</td>
        <td class="igst numeric">0</td>
        <td class="total numeric">0</td>
      </tr>
    </tbody>
    <tfoot>
      <tr style="font-weight:bold;">
        <td colspan="4">Grand Total</td>
        <td class="grandBasic numeric">0</td>
        <td class="grandSGST numeric">0</td>
        <td class="grandCGST numeric">0</td>
        <td class="grandIGST numeric">0</td>
        <td class="grandTotal numeric">0</td>
      </tr>
    </tfoot>
  </table>
  <div style="margin-top:10px; display:flex; gap:10px;">
    <button id="addRowBtn" onclick="addItem()">Add Row</button>
    <button id="recalculateBtn" onclick="calculateInvoice()">Recalculate</button>
    <button id="generatePdfBtn" onclick="generatePDF()">Generate PDF</button>
  </div>

  <!-- Invoice Summary -->
  <div class="summary">
    <div>
      <label>Total Invoice Value</label>
      <input type="number" id="totalInvoice" readonly>
    </div>
    <div>
      <label>Payment Received</label>
      <input type="number" id="paymentReceived" placeholder="Amount" oninput="updateBalance()">
    </div>
    <div>
      <label>Balance Amount</label>
      <input type="number" id="balanceAmount" readonly>
    </div>
    <div>
      <label>Payment Type</label>
      <select id="paymentTypeSummary">
        <option value="Cash">Cash</option>
        <option value="UPI">UPI</option>
        <option value="Card">Card</option>
        <option value="Netbanking">Netbanking</option>
      </select>
    </div>
  </div>

</div>

</main>

<footer>Software Developed By: S World The Complete Accounting Solutions, Balaghat. Mobile: 8319601616</footer>

<script>
// Populate Indian states
const states = ["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Andaman & Nicobar Islands","Chandigarh","Dadra & Nagar Haveli and Daman & Diu","Delhi","Jammu & Kashmir","Ladakh","Lakshadweep","Puducherry"];
const sellerStateSelect = document.getElementById('sellerState');
const buyerStateSelect = document.getElementById('buyerState');
states.forEach(state=>{
    const opt1=document.createElement('option'); opt1.value=state; opt1.text=state; sellerStateSelect.add(opt1);
    const opt2=document.createElement('option'); opt2.value=state; opt2.text=state; buyerStateSelect.add(opt2);
});
document.getElementById('invoiceDate').valueAsDate = new Date();

// Add new item row
function addItem(){
  const table=document.getElementById('itemsTable').getElementsByTagName('tbody')[0];
  const row=table.insertRow();
  row.innerHTML=`
<td><input type="text" class="itemName"></td>
<td>
<select class="gstRate">
<option value="0">Nil</option>
<option value="5">5%</option>
<option value="12">12%</option>
<option value="18">18%</option>
<option value="28">28%</option>
</select>
</td>
<td><input type="number" class="quantity" value="1" min="1"></td>
<td><input type="number" class="price" value="0" min="0"></td>
<td class="basic numeric">0</td>
<td class="sgst numeric">0</td>
<td class="cgst numeric">0</td>
<td class="igst numeric">0</td>
<td class="total numeric">0</td>`;
  attachEvents();
}

// Calculation logic
function attachEvents(){
  const rows=document.querySelectorAll('#itemsTable tbody tr');
  rows.forEach(row=>{
    row.querySelectorAll('input, select').forEach(el=>{
      el.oninput=calculateInvoice;
      el.onchange=calculateInvoice;
    });
  });
}

function calculateInvoice(){
  const sellerState=document.getElementById('sellerState').value;
  const buyerState=document.getElementById('buyerState').value;
  let grandBasic=0, grandSGST=0, grandCGST=0, grandIGST=0, grandTotal=0;

  document.querySelectorAll('#itemsTable tbody tr').forEach(row=>{
    const qty=parseFloat(row.querySelector('.quantity').value)||0;
    const price=parseFloat(row.querySelector('.price').value)||0;
    const gst=parseFloat(row.querySelector('.gstRate').value)||0;

    let basic= price/(1+gst/100);
    basic = basic * qty;

    let sgst=0, cgst=0, igst=0;

    if(sellerState && buyerState){
      if(sellerState===buyerState){
        sgst = (basic * gst/100) / 2;
        cgst = (basic * gst/100) / 2;
        igst = 0;
      } else {
        igst = basic * gst/100;
        sgst = 0;
        cgst = 0;
      }
    }

    let total=basic+sgst+cgst+igst;

    row.querySelector('.basic').innerText=basic.toFixed(2);
    row.querySelector('.sgst').innerText=sgst.toFixed(2);
    row.querySelector('.cgst').innerText=cgst.toFixed(2);
    row.querySelector('.igst').innerText=igst.toFixed(2);
    row.querySelector('.total').innerText=total.toFixed(2);

    grandBasic+=basic;
    grandSGST+=sgst;
    grandCGST+=cgst;
    grandIGST+=igst;
    grandTotal+=total;
  });

  document.querySelector('.grandBasic').innerText=grandBasic.toFixed(2);
  document.querySelector('.grandSGST').innerText=grandSGST.toFixed(2);
  document.querySelector('.grandCGST').innerText=grandCGST.toFixed(2);
  document.querySelector('.grandIGST').innerText=grandIGST.toFixed(2);
  document.querySelector('.grandTotal').innerText=grandTotal.toFixed(2);

  document.getElementById('totalInvoice').value=grandTotal.toFixed(2);
  updateBalance();
}

// Update balance
function updateBalance(){
  const total=parseFloat(document.getElementById('totalInvoice').value)||0;
  const received=parseFloat(document.getElementById('paymentReceived').value)||0;
  document.getElementById('balanceAmount').value=(total-received).toFixed(2);
}

// Generate PDF (placeholder)
function generatePDF(){ alert("PDF generation logic goes here!"); }

attachEvents();
calculateInvoice();
</script>

</body>
</html>
